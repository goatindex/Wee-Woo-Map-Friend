<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>SES Response Boundaries</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div id="map"></div>
  <div class="layer-menu" id="layerMenu">
  <div class="search-sticky">
  <div id="sidebarTitle" class="sidebar-title"><span class="title-emojis">🚨🗺️🫶</span> | WeeWoo Map Friend </div>
    <div class="sidebar-tools" aria-label="Quick tools">
  <button id="sidebarBtn3" class="sidebar-tool-btn" type="button" title="Information" aria-label="Information">ℹ️</button>
  <button id="sidebarBtn2" class="sidebar-tool-btn" type="button" title="Documentation" aria-label="Documentation">📚</button>
  <button id="sidebarBtn1" class="sidebar-tool-btn" type="button" title="Reset to default" aria-label="Reset to default">♻️</button>
    </div>
    <div class="search-box-wrap">
      <input type="text" class="search-box" id="globalSidebarSearch" placeholder="Search all layers..." autocomplete="off" />
      <div id="sidebarSearchDropdown" class="sidebar-search-dropdown"></div>
    </div>
  </div>
  <h4 id="activeHeader"><span class="collapse-arrow">&#9660;</span>📌 All Active</h4>
  <div class="collapsible-list" id="activeList" style="display: none;"></div>
    
    <div class="divider"></div>
  <h4 id="showAllHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>🧾 Show All</h4>
    <div class="collapsible-list" id="showAllList" style="display: none;">
  <label><input type="checkbox" id="toggleAllSES" checked> 👷 SES Response Areas</label>
  <label><input type="checkbox" id="toggleAllLGAs" checked> 🏛️ Local Government Areas</label>
  <label><input type="checkbox" id="toggleAllCFA" checked> 🔥 CFA Response Areas</label>
  <label><input type="checkbox" id="toggleAllAmbulance"> 🚑 Ambulance Stations</label>
  <label><input type="checkbox" id="toggleAllPolice"> 👮 Police Stations</label>
    </div>
    <div class="divider"></div>
  <h4 id="sesHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>👷 SES Response Areas</h4>
    <div class="collapsible-list" id="sesList" style="display: none;"></div>
    <div class="divider"></div>
  <h4 id="lgaHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>🏛️ Local Government Areas</h4>
    <div class="collapsible-list" id="lgaList" style="display: none;"></div>
  <div class="divider"></div>
  <h4 id="cfaHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>🔥 CFA Response Areas</h4>
  <div class="collapsible-list" id="cfaList" style="display: none;"></div>
  <div class="divider"></div>
  <h4 id="ambulanceHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>🚑 Ambulance Stations</h4>
  <div class="collapsible-list" id="ambulanceList" style="display: none;"></div>
  <div class="divider"></div>
  <h4 id="policeHeader" class="collapsed"><span class="collapse-arrow">&#9660;</span>👮 Police Stations</h4>
  <div class="collapsible-list" id="policeList" style="display: none;"></div>
  <div class="divider"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <!-- Proj4 for coordinate conversion (required by coordConvert.js) -->
  <script src="https://cdn.jsdelivr.net/npm/proj4@2.9.2/dist/proj4.min.js"></script>
  <script type="module" src="js/bootstrap.js"></script>
  <!-- Last updated line -->
  <div id="lastUpdated" style="position:fixed;left:12px;bottom:8px;font-size:0.95em;color:#444;background:rgba(255,255,255,0.85);padding:4px 10px;border-radius:6px;z-index:2000;pointer-events:none;">
    <!--#include file="last-updated.txt" -->
  </div>

  <!-- Information Modal -->
  <div id="infoOverlay" class="app-overlay" hidden></div>
  <div id="infoModal" class="app-modal" role="dialog" aria-modal="true" aria-labelledby="infoTitle" hidden>
    <div class="app-modal-content">
      <div class="app-modal-header">
        <h2 id="infoTitle" class="app-modal-title">Information</h2>
        <button id="infoClose" class="app-modal-close" type="button" aria-label="Close">✖</button>
      </div>
      <div class="app-modal-body">
        <p>Welcome to WeeWoo Map Friend. This single-page panel provides a quick overview of the app and handy tips:</p>
        <ul>
          <li>Use the sidebar search to find SES, LGA, CFA, Ambulance, and Police items.</li>
          <li>“All Active” shows your current selections with controls for emphasise, label, and weather.</li>
          <li>The ♻️ button resets the page to a clean starting state.</li>
        </ul>
        <p>For full documentation, open 📚 Docs.</p>
        </ul>
        <h3>Who's behind this project?</h3>
        <p>WeeWoo Map Friend is a hobby project developed (clumsily) by Kirk Nicholls. He's doing his best. </p>
        <h4>What's the point?</h4>
        <ul>
          <li>Provide a user-friendly interface for exploring and interacting with map info handy to local emergncy services.</li>
          <li>To learn more about software development and using mapping software specifically.</li>
          <li>Bridge a gap between full-featured tools like EM-COP or QGIS and Google Maps.</li>
          <li>Personal use, to do help me be a better emergency services human.</li>
          <li>It's a bit of fun, isn't it?</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Docs Drawer -->
  <div id="docsOverlay" class="app-overlay" hidden></div>
  <aside id="docsDrawer" class="docs-drawer" aria-labelledby="docsTitle" hidden>
    <header class="docs-header">
      <h2 id="docsTitle">Documentation</h2>
      <button id="docsClose" class="docs-close" aria-label="Close">✖</button>
    </header>
    <div class="docs-body">
      <nav class="docs-toc" aria-label="Table of contents">
        <ul>
          <li><a href="#docs/intro" data-doc="intro">Welcome</a></li>
          <li><a href="#docs/usage" data-doc="usage">Using the App</a></li>
          <li><a href="#docs/layers" data-doc="layers">Layers & Categories</a></li>
        </ul>
      </nav>
      <main id="docsContent" class="docs-content" tabindex="0" aria-live="polite">
        <p>Choose a topic from the left.</p>
      </main>
    </div>
  </aside>

</body>
</html>
