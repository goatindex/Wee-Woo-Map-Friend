{
  "functions": {
    "window.updateActiveList": {
      "count": 15,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 1316,
          "content": "window.updateActiveList = function() {"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 730,
          "content": "expect(window.updateActiveList).toBeDefined();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 746,
          "content": "window.updateActiveList();"
        },
        {
          "file": "bootstrap.js",
          "line": 795,
          "content": "window.updateActiveList();"
        },
        {
          "file": "bootstrap.js",
          "line": 928,
          "content": "try { window.updateActiveList(); } catch {}"
        },
        {
          "file": "polygons.js",
          "line": 187,
          "content": "window.updateActiveList();"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 126,
          "content": "if (!window.updateActiveList) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 127,
          "content": "window.updateActiveList = function() {"
        },
        {
          "file": "ES6IntegrationManager.test.js",
          "line": 73,
          "content": "expect(typeof window.updateActiveList).toBe('function');"
        },
        {
          "file": "activeList.js",
          "line": 82,
          "content": "window.updateActiveList = function(){"
        },
        {
          "file": "bootstrap.js",
          "line": 1022,
          "content": "window.updateActiveList();"
        },
        {
          "file": "bootstrap.js",
          "line": 1199,
          "content": "try { window.updateActiveList(); } catch {}"
        },
        {
          "file": "state.js",
          "line": 224,
          "content": "if (window.updateActiveList) {"
        },
        {
          "file": "state.js",
          "line": 226,
          "content": "window.updateActiveList();"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 15,
          "content": "'window.updateActiveList',"
        }
      ]
    },
    "window.beginActiveListBulk": {
      "count": 11,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 1304,
          "content": "window.beginActiveListBulk = function() {"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 728,
          "content": "expect(window.beginActiveListBulk).toBeDefined();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 740,
          "content": "window.beginActiveListBulk();"
        },
        {
          "file": "bootstrap.js",
          "line": 888,
          "content": "try { window.beginActiveListBulk(); } catch {}"
        },
        {
          "file": "polygons.js",
          "line": 239,
          "content": "window.beginActiveListBulk();"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 111,
          "content": "if (!window.beginActiveListBulk) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 112,
          "content": "window.beginActiveListBulk = function() {"
        },
        {
          "file": "ES6IntegrationManager.test.js",
          "line": 71,
          "content": "expect(typeof window.beginActiveListBulk).toBe('function');"
        },
        {
          "file": "activeList.js",
          "line": 11,
          "content": "window.beginActiveListBulk = function(){"
        },
        {
          "file": "bootstrap.js",
          "line": 1159,
          "content": "try { window.beginActiveListBulk(); } catch {}"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 16,
          "content": "'window.beginActiveListBulk',"
        }
      ]
    },
    "window.endActiveListBulk": {
      "count": 11,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 1310,
          "content": "window.endActiveListBulk = function() {"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 729,
          "content": "expect(window.endActiveListBulk).toBeDefined();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 743,
          "content": "window.endActiveListBulk();"
        },
        {
          "file": "bootstrap.js",
          "line": 958,
          "content": "try { window.endActiveListBulk(); } catch {}"
        },
        {
          "file": "polygons.js",
          "line": 330,
          "content": "window.endActiveListBulk();"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 120,
          "content": "if (!window.endActiveListBulk) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 121,
          "content": "window.endActiveListBulk = function() {"
        },
        {
          "file": "ES6IntegrationManager.test.js",
          "line": 72,
          "content": "expect(typeof window.endActiveListBulk).toBe('function');"
        },
        {
          "file": "activeList.js",
          "line": 24,
          "content": "window.endActiveListBulk = function(){"
        },
        {
          "file": "bootstrap.js",
          "line": 1231,
          "content": "try { window.endActiveListBulk(); } catch {}"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 17,
          "content": "'window.endActiveListBulk',"
        }
      ]
    },
    "window.createCheckbox": {
      "count": 3,
      "locations": [
        {
          "file": "polygons.js",
          "line": 156,
          "content": "const cb = window.createCheckbox(`${category}_${key}`, displayName, checked,"
        },
        {
          "file": "utils.js",
          "line": 142,
          "content": "window.createCheckbox = function(id,label,checked,onChange){"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 18,
          "content": "'window.createCheckbox',"
        }
      ]
    },
    "window.setupCollapsible": {
      "count": 28,
      "locations": [
        {
          "file": "bootstrap.js",
          "line": 364,
          "content": "if (window.setupCollapsible) {"
        },
        {
          "file": "bootstrap.js",
          "line": 366,
          "content": "window.setupCollapsible('activeHeader', 'activeList', false);"
        },
        {
          "file": "bootstrap.js",
          "line": 367,
          "content": "window.setupCollapsible('showAllHeader', 'showAllList');"
        },
        {
          "file": "bootstrap.js",
          "line": 368,
          "content": "window.setupCollapsible('sesHeader', 'sesList');"
        },
        {
          "file": "bootstrap.js",
          "line": 369,
          "content": "window.setupCollapsible('lgaHeader', 'lgaList');"
        },
        {
          "file": "bootstrap.js",
          "line": 370,
          "content": "window.setupCollapsible('cfaHeader', 'cfaList');"
        },
        {
          "file": "bootstrap.js",
          "line": 371,
          "content": "window.setupCollapsible('policeHeader', 'policeList');"
        },
        {
          "file": "bootstrap.js",
          "line": 372,
          "content": "window.setupCollapsible('ambulanceHeader', 'ambulanceList');"
        },
        {
          "file": "bootstrap.js",
          "line": 373,
          "content": "window.setupCollapsible('frvHeader', 'frvList');"
        },
        {
          "file": "CollapsibleManager.js",
          "line": 324,
          "content": "window.setupCollapsible = (headerId, listId, expanded) => {"
        },
        {
          "file": "collapsible.js",
          "line": 5,
          "content": "window.setupCollapsible = function(headerId,listId,expanded=false){"
        },
        {
          "file": "bootstrap.js",
          "line": 531,
          "content": "exists: typeof window.setupCollapsible,"
        },
        {
          "file": "bootstrap.js",
          "line": 532,
          "content": "isFunction: typeof window.setupCollapsible === 'function',"
        },
        {
          "file": "bootstrap.js",
          "line": 533,
          "content": "value: window.setupCollapsible"
        },
        {
          "file": "bootstrap.js",
          "line": 537,
          "content": "if (window.setupCollapsible) {"
        },
        {
          "file": "bootstrap.js",
          "line": 541,
          "content": "window.setupCollapsible('activeHeader', 'activeList', false);"
        },
        {
          "file": "bootstrap.js",
          "line": 542,
          "content": "window.setupCollapsible('showAllHeader', 'showAllList');"
        },
        {
          "file": "bootstrap.js",
          "line": 543,
          "content": "window.setupCollapsible('sesHeader', 'sesList');"
        },
        {
          "file": "bootstrap.js",
          "line": 544,
          "content": "window.setupCollapsible('lgaHeader', 'lgaList');"
        },
        {
          "file": "bootstrap.js",
          "line": 545,
          "content": "window.setupCollapsible('cfaHeader', 'cfaList');"
        },
        {
          "file": "bootstrap.js",
          "line": 546,
          "content": "window.setupCollapsible('policeHeader', 'policeList');"
        },
        {
          "file": "bootstrap.js",
          "line": 547,
          "content": "window.setupCollapsible('ambulanceHeader', 'ambulanceList');"
        },
        {
          "file": "bootstrap.js",
          "line": 548,
          "content": "window.setupCollapsible('frvHeader', 'frvList');"
        },
        {
          "file": "app-bootstrap.md",
          "line": 320,
          "content": "window.setupCollapsible('sesHeader', 'sesList', false);"
        },
        {
          "file": "app-bootstrap.md",
          "line": 321,
          "content": "window.setupCollapsible('lgaHeader', 'lgaList', false);"
        },
        {
          "file": "app-bootstrap.md",
          "line": 334,
          "content": "window.setupCollapsible = function(headerId, listId, startCollapsed = false) {"
        },
        {
          "file": "terms-of-reference.md",
          "line": 172,
          "content": "window.setupCollapsible = function(headerId, listId) {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 19,
          "content": "'window.setupCollapsible',"
        }
      ]
    },
    "window.setEmphasis": {
      "count": 10,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 826,
          "content": "if (window.setEmphasis) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 828,
          "content": "window.setEmphasis(category, key, enabled, isPoint);"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 120,
          "content": "window.setEmphasis = jest.fn();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 198,
          "content": "delete window.setEmphasis;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 460,
          "content": "expect(window.setEmphasis).toHaveBeenCalledWith('ses', 'alpine_resorts', true, false);"
        },
        {
          "file": "ActiveListManager.js",
          "line": 697,
          "content": "if (window.setEmphasis) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 698,
          "content": "window.setEmphasis(category, key, emphasised);"
        },
        {
          "file": "emphasise.js",
          "line": 15,
          "content": "window.setEmphasis = function(category,key,on,isPoint){"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 20,
          "content": "'window.setEmphasis',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 136,
          "content": "window.setEmphasis = jest.fn();"
        }
      ]
    },
    "window.ensureLabel": {
      "count": 21,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 869,
          "content": "if (!window.ensureLabel) return;"
        },
        {
          "file": "ActiveListManager.js",
          "line": 882,
          "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 121,
          "content": "window.ensureLabel = jest.fn();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 199,
          "content": "delete window.ensureLabel;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 472,
          "content": "expect(window.ensureLabel).toHaveBeenCalled();"
        },
        {
          "file": "polygons.js",
          "line": 172,
          "content": "window.ensureLabel(category, key, labelName, false, l);"
        },
        {
          "file": "polygons.js",
          "line": 205,
          "content": "window.ensureLabel(category, key, labelName, false, l);"
        },
        {
          "file": "polygons.js",
          "line": 290,
          "content": "window.ensureLabel(category, key, labelName, false, l);"
        },
        {
          "file": "ActiveListManager.js",
          "line": 490,
          "content": "if (window.ensureLabel) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 491,
          "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
        },
        {
          "file": "ActiveListManager.js",
          "line": 514,
          "content": "if (layerOrMarker && window.ensureLabel) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 515,
          "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
        },
        {
          "file": "LabelManager.js",
          "line": 582,
          "content": "window.ensureLabel = (category, key, name, isPoint, layerOrMarker) =>"
        },
        {
          "file": "PolygonLoader.js",
          "line": 648,
          "content": "if (window.ensureLabel) {"
        },
        {
          "file": "PolygonLoader.js",
          "line": 649,
          "content": "window.ensureLabel(category, key, name, isPoint, layer);"
        },
        {
          "file": "activeList.js",
          "line": 257,
          "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
        },
        {
          "file": "activeList.js",
          "line": 274,
          "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
        },
        {
          "file": "labels.js",
          "line": 139,
          "content": "window.ensureLabel = function(category,key,displayName,isPoint,layerOrMarker){"
        },
        {
          "file": "state.js",
          "line": 202,
          "content": "window.ensureLabel(category, key, labelName, isPoint, layer);"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 21,
          "content": "'window.ensureLabel',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 134,
          "content": "window.ensureLabel = jest.fn();"
        }
      ]
    },
    "window.removeLabel": {
      "count": 18,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 893,
          "content": "if (window.removeLabel) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 894,
          "content": "window.removeLabel(category, key);"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 122,
          "content": "window.removeLabel = jest.fn();"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 200,
          "content": "delete window.removeLabel;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 478,
          "content": "expect(window.removeLabel).toHaveBeenCalledWith('ses', 'alpine_resorts');"
        },
        {
          "file": "bootstrap.js",
          "line": 904,
          "content": "try { window.removeLabel(cat, key); } catch {}"
        },
        {
          "file": "bootstrap.js",
          "line": 966,
          "content": "try { window.removeLabel(cat, key); } catch {}"
        },
        {
          "file": "ActiveListManager.js",
          "line": 494,
          "content": "if (window.removeLabel) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 495,
          "content": "window.removeLabel(category, key);"
        },
        {
          "file": "LabelManager.js",
          "line": 584,
          "content": "window.removeLabel = (category, key) =>"
        },
        {
          "file": "PolygonLoader.js",
          "line": 654,
          "content": "if (window.removeLabel) {"
        },
        {
          "file": "PolygonLoader.js",
          "line": 655,
          "content": "window.removeLabel(category, key);"
        },
        {
          "file": "activeList.js",
          "line": 259,
          "content": "window.removeLabel(category, key);"
        },
        {
          "file": "bootstrap.js",
          "line": 1175,
          "content": "try { window.removeLabel(cat, key); } catch {}"
        },
        {
          "file": "bootstrap.js",
          "line": 1239,
          "content": "try { window.removeLabel(cat, key); } catch {}"
        },
        {
          "file": "labels.js",
          "line": 196,
          "content": "window.removeLabel = function(category,key){"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 22,
          "content": "'window.removeLabel',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 135,
          "content": "window.removeLabel = jest.fn();"
        }
      ]
    },
    "window.toggleAll": {
      "count": 1,
      "locations": [
        {
          "file": "analyze-legacy-usage.js",
          "line": 23,
          "content": "'window.toggleAll',"
        }
      ]
    },
    "window.BulkOperationManager": {
      "count": 26,
      "locations": [
        {
          "file": "polygons.js",
          "line": 235,
          "content": "const bulkStarted = window.BulkOperationManager.begin('toggleAll', items.length);"
        },
        {
          "file": "polygons.js",
          "line": 287,
          "content": "if (window.BulkOperationManager.isActive()) {"
        },
        {
          "file": "polygons.js",
          "line": 288,
          "content": "window.BulkOperationManager.addPendingLabel({category, key, labelName, isPoint: false, layer: l});"
        },
        {
          "file": "polygons.js",
          "line": 331,
          "content": "window.BulkOperationManager.end(); // This will handle labels and active list updates"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 92,
          "content": "// Create window.BulkOperationManager compatibility"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 93,
          "content": "if (window.BulkOperationManager) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 94,
          "content": "this.legacyFunctions.set('BulkOperationManager', window.BulkOperationManager);"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 113,
          "content": "if (window.BulkOperationManager) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 114,
          "content": "window.BulkOperationManager.markActiveListUpdatePending();"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 142,
          "content": "if (window.BulkOperationManager) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 143,
          "content": "return window.BulkOperationManager.begin('legacy');"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 152,
          "content": "if (window.BulkOperationManager) {"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 153,
          "content": "window.BulkOperationManager.end();"
        },
        {
          "file": "ES6IntegrationManager.js",
          "line": 187,
          "content": "if (!window.BulkOperationManager) {"
        },
        {
          "file": "ES6IntegrationManager.test.js",
          "line": 88,
          "content": "expect(window.BulkOperationManager.begin).toHaveBeenCalledWith('legacy');"
        },
        {
          "file": "ES6IntegrationManager.test.js",
          "line": 91,
          "content": "expect(window.BulkOperationManager.end).toHaveBeenCalled();"
        },
        {
          "file": "LegacyCompatibility.js",
          "line": 145,
          "content": "return window.BulkOperationManager ? window.BulkOperationManager.begin('legacy') : false;"
        },
        {
          "file": "LegacyCompatibility.js",
          "line": 149,
          "content": "if (window.BulkOperationManager) {"
        },
        {
          "file": "LegacyCompatibility.js",
          "line": 150,
          "content": "window.BulkOperationManager.end();"
        },
        {
          "file": "activeList.js",
          "line": 13,
          "content": "if (window.BulkOperationManager && window.BulkOperationManager.isActive()) {"
        },
        {
          "file": "activeList.js",
          "line": 17,
          "content": "window.BulkOperationManager.markActiveListUpdatePending();"
        },
        {
          "file": "activeList.js",
          "line": 31,
          "content": "if (window.BulkOperationManager && window.BulkOperationManager.isActive()) {"
        },
        {
          "file": "state.js",
          "line": 42,
          "content": "window.BulkOperationManager = {"
        },
        {
          "file": "state.js",
          "line": 249,
          "content": "return window.BulkOperationManager.begin('legacy');"
        },
        {
          "file": "state.js",
          "line": 253,
          "content": "window.BulkOperationManager.end();"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 24,
          "content": "'window.BulkOperationManager'"
        }
      ]
    }
  },
  "globals": {
    "window.featureLayers": {
      "count": 44,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 527,
          "content": "if (!window.namesByCategory?.[category] || !window.featureLayers?.[category]) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 610,
          "content": "if (meta?.type === 'polygon' && window.featureLayers?.[category]?.[key]) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 611,
          "content": "const layer = window.featureLayers[category][key][0];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 876,
          "content": "layerOrMarker = window.featureLayers?.[category]?.[key];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 878,
          "content": "layerOrMarker = window.featureLayers?.[category]?.[key]?.[0];"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 196,
          "content": "delete window.featureLayers;"
        },
        {
          "file": "polygons.js",
          "line": 86,
          "content": "if (window.featureLayers[category][key]) {"
        },
        {
          "file": "polygons.js",
          "line": 87,
          "content": "window.featureLayers[category][key].push(feature);"
        },
        {
          "file": "polygons.js",
          "line": 89,
          "content": "window.featureLayers[category][key] = [feature];"
        },
        {
          "file": "polygons.js",
          "line": 111,
          "content": "Object.keys(window.featureLayers[category]).forEach(key => {"
        },
        {
          "file": "polygons.js",
          "line": 112,
          "content": "window.featureLayers[category][key] = window.featureLayers[category][key].map(feature => {"
        },
        {
          "file": "polygons.js",
          "line": 127,
          "content": "window.namesByCategory[category] = Object.keys(window.featureLayers[category])"
        },
        {
          "file": "polygons.js",
          "line": 137,
          "content": "Object.keys(window.featureLayers[category]).forEach(k => {"
        },
        {
          "file": "polygons.js",
          "line": 159,
          "content": "window.featureLayers[category][key].forEach(l => {"
        },
        {
          "file": "polygons.js",
          "line": 194,
          "content": "window.featureLayers[category][key].forEach(l => {"
        },
        {
          "file": "polygons.js",
          "line": 278,
          "content": "window.featureLayers[category][key].forEach(l => {"
        },
        {
          "file": "state.js",
          "line": 15,
          "content": "window.featureLayers = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
        },
        {
          "file": "state.js",
          "line": 199,
          "content": "if (window.featureLayers[category][key] &&"
        },
        {
          "file": "state.js",
          "line": 200,
          "content": "window.featureLayers[category][key].some(l => l._map)) {"
        },
        {
          "file": "data-flow.md",
          "line": 32,
          "content": "window.featureLayers = {"
        },
        {
          "file": "data-flow.md",
          "line": 155,
          "content": "window.featureLayers.ses[feature.key] = feature.layer;"
        },
        {
          "file": "data-flow.md",
          "line": 290,
          "content": "window.featureLayers.ses[key] = createLeafletLayer(feature);"
        },
        {
          "file": "data-flow.md",
          "line": 417,
          "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 422,
          "content": "delete window.featureLayers[category][key];"
        },
        {
          "file": "data-flow.md",
          "line": 614,
          "content": "if (!window.featureLayers[category][key]) {"
        },
        {
          "file": "data-flow.md",
          "line": 654,
          "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 767,
          "content": "featureLayers: window.featureLayers,"
        },
        {
          "file": "data-flow.md",
          "line": 775,
          "content": "layers: Object.keys(window.featureLayers.ses),"
        },
        {
          "file": "data-flow.md",
          "line": 789,
          "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 947,
          "content": "window.featureLayers.ses[key] = layer; // Add layer"
        },
        {
          "file": "data-flow.md",
          "line": 976,
          "content": "console.log(window.featureLayers);"
        },
        {
          "file": "data-flow.md",
          "line": 1076,
          "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 1096,
          "content": "const layerKeys = Object.keys(window.featureLayers[category] || {});"
        },
        {
          "file": "data-loading.md",
          "line": 495,
          "content": "window.featureLayers[category].push(layer);"
        },
        {
          "file": "data-loading.md",
          "line": 523,
          "content": "if (!window.featureLayers[category]) {"
        },
        {
          "file": "data-loading.md",
          "line": 524,
          "content": "window.featureLayers[category] = [];"
        },
        {
          "file": "data-loading.md",
          "line": 528,
          "content": "window.featureLayers[category].push(...layers);"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 28,
          "content": "'window.featureLayers',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 111,
          "content": "global.featureLayers = window.featureLayers;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 124,
          "content": "window.featureLayers = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 141,
          "content": "global.featureLayers = window.featureLayers;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 372,
          "content": "window.featureLayers.ses = { ballarat_city: [mockLayer] };"
        },
        {
          "file": "map-integration.real.test.js",
          "line": 82,
          "content": "window.featureLayers = { ses: {}, lga: {}, cfa: {} };"
        },
        {
          "file": "map-integration.test.js",
          "line": 141,
          "content": "window.featureLayers = {"
        }
      ]
    },
    "window.namesByCategory": {
      "count": 41,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 286,
          "content": "if (!window.namesByCategory?.[category] || !window.nameToKey?.[category]) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 296,
          "content": "window.namesByCategory[category].forEach(name => {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 527,
          "content": "if (!window.namesByCategory?.[category] || !window.featureLayers?.[category]) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 534,
          "content": "window.namesByCategory[category].forEach(name => {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 1208,
          "content": "if (!window.namesByCategory?.[category]) return;"
        },
        {
          "file": "ActiveListManager.js",
          "line": 1266,
          "content": "if (!window.namesByCategory?.[category]) return;"
        },
        {
          "file": "ActiveListManager.js",
          "line": 1268,
          "content": "window.namesByCategory[category].forEach(name => {"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 191,
          "content": "delete window.namesByCategory;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 751,
          "content": "delete window.namesByCategory;"
        },
        {
          "file": "SearchManager.js",
          "line": 212,
          "content": "if (window.namesByCategory && window.nameToKey) {"
        },
        {
          "file": "SearchManager.js",
          "line": 236,
          "content": "if (!window.namesByCategory || !window.nameToKey) {"
        },
        {
          "file": "SearchManager.js",
          "line": 241,
          "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
        },
        {
          "file": "SearchManager.test.js",
          "line": 161,
          "content": "delete window.namesByCategory;"
        },
        {
          "file": "SearchManager.test.js",
          "line": 535,
          "content": "delete window.namesByCategory;"
        },
        {
          "file": "polygons.js",
          "line": 127,
          "content": "window.namesByCategory[category] = Object.keys(window.featureLayers[category])"
        },
        {
          "file": "polygons.js",
          "line": 147,
          "content": "window.namesByCategory[category].forEach(displayName => {"
        },
        {
          "file": "polygons.js",
          "line": 228,
          "content": "const items = window.namesByCategory[category];"
        },
        {
          "file": "SearchManager.js",
          "line": 150,
          "content": "const namesByCategory = window.namesByCategory || {};"
        },
        {
          "file": "SearchManager.js",
          "line": 315,
          "content": "const namesByCategory = window.namesByCategory || {};"
        },
        {
          "file": "state.js",
          "line": 17,
          "content": "window.namesByCategory = { ses:[], lga:[], cfa:[], ambulance:[], police:[], frv:[] };"
        },
        {
          "file": "data-flow.md",
          "line": 46,
          "content": "window.namesByCategory = {"
        },
        {
          "file": "data-flow.md",
          "line": 156,
          "content": "window.namesByCategory.ses.push(feature.name);"
        },
        {
          "file": "data-flow.md",
          "line": 291,
          "content": "window.namesByCategory.ses.push(name);"
        },
        {
          "file": "data-flow.md",
          "line": 428,
          "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 433,
          "content": "const index = window.namesByCategory[category].indexOf(name);"
        },
        {
          "file": "data-flow.md",
          "line": 435,
          "content": "window.namesByCategory[category].splice(index, 1);"
        },
        {
          "file": "data-flow.md",
          "line": 768,
          "content": "namesByCategory: window.namesByCategory,"
        },
        {
          "file": "data-flow.md",
          "line": 776,
          "content": "names: window.namesByCategory.ses,"
        },
        {
          "file": "data-flow.md",
          "line": 798,
          "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 949,
          "content": "window.namesByCategory.ses.push(name); // Add name"
        },
        {
          "file": "data-loading.md",
          "line": 506,
          "content": "window.namesByCategory[category] = features.map(f =>"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 29,
          "content": "'window.namesByCategory',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 109,
          "content": "global.namesByCategory = window.namesByCategory;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 122,
          "content": "window.namesByCategory = { ses: [], lga: [], cfa: [], ambulance: [], police: [], frv: [] };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 139,
          "content": "global.namesByCategory = window.namesByCategory;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 239,
          "content": "window.namesByCategory.ses = ['Ballarat City', 'Geelong'];"
        },
        {
          "file": "activeList.real.test.js",
          "line": 269,
          "content": "window.namesByCategory.ses = ['Ballarat City'];"
        },
        {
          "file": "activeList.real.test.js",
          "line": 370,
          "content": "window.namesByCategory.ses = ['Ballarat City'];"
        },
        {
          "file": "activeList.real.test.js",
          "line": 405,
          "content": "window.namesByCategory.ses = ['Ballarat City'];"
        },
        {
          "file": "map-integration.real.test.js",
          "line": 83,
          "content": "window.namesByCategory = { ses: [], lga: [], cfa: [] };"
        },
        {
          "file": "map-integration.test.js",
          "line": 144,
          "content": "window.namesByCategory = {"
        }
      ]
    },
    "window.nameToKey": {
      "count": 42,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 286,
          "content": "if (!window.namesByCategory?.[category] || !window.nameToKey?.[category]) {"
        },
        {
          "file": "ActiveListManager.js",
          "line": 297,
          "content": "const key = window.nameToKey[category][name];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 535,
          "content": "const key = window.nameToKey[category][name];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 1211,
          "content": "const name = Object.keys(window.nameToKey[category] || {}).find("
        },
        {
          "file": "ActiveListManager.js",
          "line": 1212,
          "content": "n => window.nameToKey[category][n] === key"
        },
        {
          "file": "ActiveListManager.js",
          "line": 1269,
          "content": "const key = window.nameToKey[category][name];"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 192,
          "content": "delete window.nameToKey;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 752,
          "content": "delete window.nameToKey;"
        },
        {
          "file": "SearchManager.js",
          "line": 212,
          "content": "if (window.namesByCategory && window.nameToKey) {"
        },
        {
          "file": "SearchManager.js",
          "line": 236,
          "content": "if (!window.namesByCategory || !window.nameToKey) {"
        },
        {
          "file": "SearchManager.js",
          "line": 248,
          "content": "let key = window.nameToKey[category]?.[name];"
        },
        {
          "file": "SearchManager.js",
          "line": 252,
          "content": "for (const k in window.nameToKey[category] || {}) {"
        },
        {
          "file": "SearchManager.js",
          "line": 254,
          "content": "key = window.nameToKey[category][k];"
        },
        {
          "file": "SearchManager.test.js",
          "line": 162,
          "content": "delete window.nameToKey;"
        },
        {
          "file": "SearchManager.test.js",
          "line": 536,
          "content": "delete window.nameToKey;"
        },
        {
          "file": "polygons.js",
          "line": 136,
          "content": "window.nameToKey[category] = {};"
        },
        {
          "file": "polygons.js",
          "line": 141,
          "content": "window.nameToKey[category][display] = k;"
        },
        {
          "file": "polygons.js",
          "line": 148,
          "content": "const key = window.nameToKey[category][displayName];"
        },
        {
          "file": "polygons.js",
          "line": 258,
          "content": "const key = window.nameToKey[category][n];"
        },
        {
          "file": "SearchManager.js",
          "line": 151,
          "content": "const nameToKey = window.nameToKey || {};"
        },
        {
          "file": "SearchManager.js",
          "line": 316,
          "content": "const nameToKey = window.nameToKey || {};"
        },
        {
          "file": "state.js",
          "line": 19,
          "content": "window.nameToKey = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
        },
        {
          "file": "data-flow.md",
          "line": 54,
          "content": "window.nameToKey = {"
        },
        {
          "file": "data-flow.md",
          "line": 157,
          "content": "window.nameToKey.ses[feature.name] = feature.key;"
        },
        {
          "file": "data-flow.md",
          "line": 292,
          "content": "window.nameToKey.ses[name] = key;"
        },
        {
          "file": "data-flow.md",
          "line": 419,
          "content": "if (!window.nameToKey[category][key]) {"
        },
        {
          "file": "data-flow.md",
          "line": 430,
          "content": "if (!window.nameToKey[category][name]) {"
        },
        {
          "file": "data-flow.md",
          "line": 791,
          "content": "if (!window.nameToKey[category][key]) {"
        },
        {
          "file": "data-flow.md",
          "line": 800,
          "content": "if (!window.nameToKey[category][name]) {"
        },
        {
          "file": "data-flow.md",
          "line": 1078,
          "content": "const nameKeys = Object.keys(window.nameToKey[category] || {});"
        },
        {
          "file": "data-loading.md",
          "line": 511,
          "content": "window.nameToKey[category] = {};"
        },
        {
          "file": "data-loading.md",
          "line": 515,
          "content": "window.nameToKey[category][name] = key;"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 30,
          "content": "'window.nameToKey',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 110,
          "content": "global.nameToKey = window.nameToKey;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 123,
          "content": "window.nameToKey = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 140,
          "content": "global.nameToKey = window.nameToKey;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 240,
          "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city', 'Geelong': 'geelong' };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 270,
          "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 371,
          "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 406,
          "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
        },
        {
          "file": "map-integration.real.test.js",
          "line": 84,
          "content": "window.nameToKey = { ses: {}, lga: {}, cfa: {} };"
        },
        {
          "file": "map-integration.test.js",
          "line": 147,
          "content": "window.nameToKey = {"
        }
      ]
    },
    "window.emphasised": {
      "count": 24,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 725,
          "content": "checkbox.checked = !!(window.emphasised?.[category]?.[key]);"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 197,
          "content": "delete window.emphasised;"
        },
        {
          "file": "bootstrap.js",
          "line": 905,
          "content": "try { window.emphasised[cat][key] = false; } catch {}"
        },
        {
          "file": "bootstrap.js",
          "line": 967,
          "content": "try { window.emphasised[cat][key] = false; } catch {}"
        },
        {
          "file": "polygons.js",
          "line": 180,
          "content": "window.emphasised[category][key] = false;"
        },
        {
          "file": "polygons.js",
          "line": 298,
          "content": "if (window.emphasised?.[category]) {"
        },
        {
          "file": "polygons.js",
          "line": 299,
          "content": "window.emphasised[category][key] = false;"
        },
        {
          "file": "bootstrap.js",
          "line": 1176,
          "content": "try { window.emphasised[cat][key] = false; } catch {}"
        },
        {
          "file": "bootstrap.js",
          "line": 1240,
          "content": "try { window.emphasised[cat][key] = false; } catch {}"
        },
        {
          "file": "state.js",
          "line": 21,
          "content": "window.emphasised = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
        },
        {
          "file": "data-flow.md",
          "line": 65,
          "content": "window.emphasised = {"
        },
        {
          "file": "data-flow.md",
          "line": 252,
          "content": "window.emphasised[category][key] = true;"
        },
        {
          "file": "data-flow.md",
          "line": 255,
          "content": "window.emphasised[category][key] = false;"
        },
        {
          "file": "data-flow.md",
          "line": 675,
          "content": "emphasised: window.emphasised,"
        },
        {
          "file": "data-flow.md",
          "line": 702,
          "content": "window.emphasised = { ...window.emphasised, ...state.emphasised };"
        },
        {
          "file": "data-flow.md",
          "line": 769,
          "content": "emphasised: window.emphasised,"
        },
        {
          "file": "data-flow.md",
          "line": 777,
          "content": "emphasised: window.emphasised.ses,"
        },
        {
          "file": "data-flow.md",
          "line": 948,
          "content": "window.emphasised.ses[key] = true; // Emphasize feature"
        },
        {
          "file": "data-flow.md",
          "line": 977,
          "content": "console.log(window.emphasised);"
        },
        {
          "file": "data-flow.md",
          "line": 1094,
          "content": "Object.entries(window.emphasised).forEach(([category, emphasis]) => {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 31,
          "content": "'window.emphasised',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 114,
          "content": "global.emphasised = window.emphasised;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 125,
          "content": "window.emphasised = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 144,
          "content": "global.emphasised = window.emphasised;"
        }
      ]
    },
    "window.nameLabelMarkers": {
      "count": 15,
      "locations": [
        {
          "file": "bootstrap.js",
          "line": 902,
          "content": "const bucket = window.nameLabelMarkers?.[cat] || {};"
        },
        {
          "file": "bootstrap.js",
          "line": 964,
          "content": "const bucket = window.nameLabelMarkers?.[cat] || {};"
        },
        {
          "file": "polygons.js",
          "line": 181,
          "content": "if (window.nameLabelMarkers[category][key]) {"
        },
        {
          "file": "polygons.js",
          "line": 182,
          "content": "map.removeLayer(window.nameLabelMarkers[category][key]);"
        },
        {
          "file": "polygons.js",
          "line": 183,
          "content": "window.nameLabelMarkers[category][key] = null;"
        },
        {
          "file": "polygons.js",
          "line": 301,
          "content": "if (window.nameLabelMarkers?.[category]?.[key]) {"
        },
        {
          "file": "polygons.js",
          "line": 302,
          "content": "map.removeLayer(window.nameLabelMarkers[category][key]);"
        },
        {
          "file": "polygons.js",
          "line": 303,
          "content": "window.nameLabelMarkers[category][key] = null;"
        },
        {
          "file": "bootstrap.js",
          "line": 1173,
          "content": "const bucket = window.nameLabelMarkers?.[cat] || {};"
        },
        {
          "file": "bootstrap.js",
          "line": 1237,
          "content": "const bucket = window.nameLabelMarkers?.[cat] || {};"
        },
        {
          "file": "state.js",
          "line": 23,
          "content": "window.nameLabelMarkers = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
        },
        {
          "file": "data-flow.md",
          "line": 71,
          "content": "window.nameLabelMarkers = {"
        },
        {
          "file": "data-flow.md",
          "line": 612,
          "content": "Object.entries(window.nameLabelMarkers).forEach(([category, markers]) => {"
        },
        {
          "file": "data-flow.md",
          "line": 620,
          "content": "delete window.nameLabelMarkers[category][key];"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 32,
          "content": "'window.nameLabelMarkers',"
        }
      ]
    },
    "window.activeListFilter": {
      "count": 8,
      "locations": [
        {
          "file": "StateManager.js",
          "line": 136,
          "content": "this._state.activeListFilter = window.activeListFilter || '';"
        },
        {
          "file": "state.js",
          "line": 24,
          "content": "window.activeListFilter = '';"
        },
        {
          "file": "state.js",
          "line": 36,
          "content": "window.setActiveListFilter = function(v){ window.activeListFilter = v; };"
        },
        {
          "file": "data-flow.md",
          "line": 81,
          "content": "window.activeListFilter = ''; // Search filter text"
        },
        {
          "file": "data-flow.md",
          "line": 676,
          "content": "activeListFilter: window.activeListFilter,"
        },
        {
          "file": "data-flow.md",
          "line": 706,
          "content": "window.activeListFilter = state.activeListFilter;"
        },
        {
          "file": "data-flow.md",
          "line": 770,
          "content": "activeListFilter: window.activeListFilter,"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 33,
          "content": "'window.activeListFilter',"
        }
      ]
    },
    "window.isBulkOperation": {
      "count": 11,
      "locations": [
        {
          "file": "polygons.js",
          "line": 168,
          "content": "if (window.isBulkOperation) {"
        },
        {
          "file": "polygons.js",
          "line": 201,
          "content": "if (window.isBulkOperation) {"
        },
        {
          "file": "StateManager.js",
          "line": 138,
          "content": "this._state.isBulkOperation = window.isBulkOperation || false;"
        },
        {
          "file": "state.js",
          "line": 30,
          "content": "window.isBulkOperation = false;"
        },
        {
          "file": "state.js",
          "line": 74,
          "content": "window.isBulkOperation = true;"
        },
        {
          "file": "state.js",
          "line": 114,
          "content": "window.isBulkOperation = false;"
        },
        {
          "file": "data-flow.md",
          "line": 82,
          "content": "window.isBulkOperation = false; // Bulk operation flag"
        },
        {
          "file": "data-flow.md",
          "line": 732,
          "content": "isBulkOperation: window.isBulkOperation,"
        },
        {
          "file": "data-flow.md",
          "line": 744,
          "content": "window.isBulkOperation = state.isBulkOperation;"
        },
        {
          "file": "data-flow.md",
          "line": 747,
          "content": "if (window.isBulkOperation && window.pendingLabels.length > 0) {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 34,
          "content": "'window.isBulkOperation',"
        }
      ]
    },
    "window.pendingLabels": {
      "count": 8,
      "locations": [
        {
          "file": "polygons.js",
          "line": 170,
          "content": "window.pendingLabels.push({category, key, labelName, isPoint: false, layer: l});"
        },
        {
          "file": "polygons.js",
          "line": 203,
          "content": "window.pendingLabels.push({category, key, labelName, isPoint: false, layer: l});"
        },
        {
          "file": "state.js",
          "line": 28,
          "content": "window.pendingLabels = [];"
        },
        {
          "file": "data-flow.md",
          "line": 83,
          "content": "window.pendingLabels = []; // Deferred label creation"
        },
        {
          "file": "data-flow.md",
          "line": 733,
          "content": "pendingLabels: window.pendingLabels,"
        },
        {
          "file": "data-flow.md",
          "line": 745,
          "content": "window.pendingLabels = state.pendingLabels || [];"
        },
        {
          "file": "data-flow.md",
          "line": 747,
          "content": "if (window.isBulkOperation && window.pendingLabels.length > 0) {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 35,
          "content": "'window.pendingLabels',"
        }
      ]
    },
    "window.outlineColors": {
      "count": 21,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 685,
          "content": "const baseColor = window.outlineColors?.[category] || '#333';"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 194,
          "content": "delete window.outlineColors;"
        },
        {
          "file": "SearchManager.js",
          "line": 429,
          "content": "if (window.outlineColors && window.outlineColors[category]) {"
        },
        {
          "file": "SearchManager.js",
          "line": 430,
          "content": "const base = window.outlineColors[category];"
        },
        {
          "file": "SearchManager.test.js",
          "line": 163,
          "content": "delete window.outlineColors;"
        },
        {
          "file": "bootstrap.js",
          "line": 718,
          "content": "window.outlineColors[cat] = style.color;"
        },
        {
          "file": "bootstrap.js",
          "line": 739,
          "content": "const base = window.outlineColors[cat];"
        },
        {
          "file": "polygons.js",
          "line": 8,
          "content": "const color = window.outlineColors.ses || '#FF9900';"
        },
        {
          "file": "polygons_old.js",
          "line": 8,
          "content": "const color = window.outlineColors.ses || '#FF9900';"
        },
        {
          "file": "SearchManager.js",
          "line": 152,
          "content": "const outlineColors = window.outlineColors || {};"
        },
        {
          "file": "SearchManager.js",
          "line": 209,
          "content": "const outlineColors = window.outlineColors || {};"
        },
        {
          "file": "bootstrap.js",
          "line": 945,
          "content": "window.outlineColors[cat] = style.color;"
        },
        {
          "file": "bootstrap.js",
          "line": 966,
          "content": "const base = window.outlineColors[cat];"
        },
        {
          "file": "config.js",
          "line": 18,
          "content": "window.outlineColors = { ses:'#cc7a00', lga:'black', cfa:'#FF0000', ambulance:'#d32f2f', police:'#145088', frv:'#DC143C' };"
        },
        {
          "file": "endpoints.md",
          "line": 185,
          "content": "window.outlineColors = {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 36,
          "content": "'window.outlineColors',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 113,
          "content": "global.outlineColors = window.outlineColors;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 133,
          "content": "window.outlineColors = { ses: '#FF9900', lga: '#4ECDC4', cfa: '#45B7D1' };"
        },
        {
          "file": "activeList.real.test.js",
          "line": 143,
          "content": "global.outlineColors = window.outlineColors;"
        },
        {
          "file": "map-integration.real.test.js",
          "line": 87,
          "content": "window.outlineColors = { ses: '#FF9900' };"
        },
        {
          "file": "map-integration.real.test.js",
          "line": 95,
          "content": "const color = window.outlineColors.ses || '#FF9900';"
        }
      ]
    },
    "window.baseOpacities": {
      "count": 3,
      "locations": [
        {
          "file": "config.js",
          "line": 19,
          "content": "window.baseOpacities = { ses:0.2, lga:0.1, cfa:0.1, frv:0.1 };"
        },
        {
          "file": "endpoints.md",
          "line": 195,
          "content": "window.baseOpacities = {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 37,
          "content": "'window.baseOpacities',"
        }
      ]
    },
    "window.labelColorAdjust": {
      "count": 11,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 686,
          "content": "const factor = window.labelColorAdjust?.[category] ?? 1.0;"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 195,
          "content": "delete window.labelColorAdjust;"
        },
        {
          "file": "SearchManager.js",
          "line": 431,
          "content": "const factor = window.labelColorAdjust?.[category] ?? 1.0;"
        },
        {
          "file": "SearchManager.test.js",
          "line": 164,
          "content": "delete window.labelColorAdjust;"
        },
        {
          "file": "SearchManager.js",
          "line": 153,
          "content": "const labelColorAdjust = window.labelColorAdjust || {};"
        },
        {
          "file": "SearchManager.js",
          "line": 210,
          "content": "const labelColorAdjust = window.labelColorAdjust || {};"
        },
        {
          "file": "config.js",
          "line": 21,
          "content": "window.labelColorAdjust = { ses: 0.85, lga: 1.0, cfa: 1.0, ambulance: 1.0, police: 1.0, frv: 1.0 };"
        },
        {
          "file": "endpoints.md",
          "line": 203,
          "content": "window.labelColorAdjust = {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 38,
          "content": "'window.labelColorAdjust',"
        },
        {
          "file": "activeList.real.test.js",
          "line": 115,
          "content": "global.labelColorAdjust = window.labelColorAdjust;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 145,
          "content": "global.labelColorAdjust = window.labelColorAdjust;"
        }
      ]
    },
    "window.headerColorAdjust": {
      "count": 4,
      "locations": [
        {
          "file": "bootstrap.js",
          "line": 740,
          "content": "const factor = window.headerColorAdjust[cat] ?? 1.0;"
        },
        {
          "file": "bootstrap.js",
          "line": 967,
          "content": "const factor = window.headerColorAdjust[cat] ?? 1.0;"
        },
        {
          "file": "config.js",
          "line": 23,
          "content": "window.headerColorAdjust = { ses: 0.85, lga: 1.0, cfa: 0.9, ambulance: 1.0, police: 0.95, frv: 0.9 };"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 39,
          "content": "'window.headerColorAdjust',"
        }
      ]
    },
    "window.categoryMeta": {
      "count": 19,
      "locations": [
        {
          "file": "ActiveListManager.js",
          "line": 609,
          "content": "const meta = window.categoryMeta?.[category];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 827,
          "content": "const isPoint = window.categoryMeta?.[category]?.type === 'point';"
        },
        {
          "file": "ActiveListManager.js",
          "line": 871,
          "content": "const meta = window.categoryMeta?.[category];"
        },
        {
          "file": "ActiveListManager.js",
          "line": 917,
          "content": "const meta = window.categoryMeta?.[category];"
        },
        {
          "file": "ActiveListManager.test.js",
          "line": 193,
          "content": "delete window.categoryMeta;"
        },
        {
          "file": "bootstrap.js",
          "line": 714,
          "content": "const fn = window.categoryMeta?.[cat]?.styleFn;"
        },
        {
          "file": "polygons.js",
          "line": 38,
          "content": "const meta = window.categoryMeta[category];"
        },
        {
          "file": "polygons.js",
          "line": 165,
          "content": "if (window.categoryMeta[category].type === 'polygon') {"
        },
        {
          "file": "polygons.js",
          "line": 284,
          "content": "if (window.categoryMeta[category].type === 'polygon') {"
        },
        {
          "file": "bootstrap.js",
          "line": 941,
          "content": "const fn = window.categoryMeta?.[cat]?.styleFn;"
        },
        {
          "file": "config.js",
          "line": 52,
          "content": "window.categoryMeta = {"
        },
        {
          "file": "endpoints.md",
          "line": 114,
          "content": "window.categoryMeta = {"
        },
        {
          "file": "endpoints.md",
          "line": 313,
          "content": "const container = document.getElementById(window.categoryMeta[category].listId);"
        },
        {
          "file": "setup.md",
          "line": 306,
          "content": "window.categoryMeta.newcategory = {"
        },
        {
          "file": "analyze-legacy-usage.js",
          "line": 40,
          "content": "'window.categoryMeta'"
        },
        {
          "file": "activeList.real.test.js",
          "line": 112,
          "content": "global.categoryMeta = window.categoryMeta;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 126,
          "content": "window.categoryMeta = {"
        },
        {
          "file": "activeList.real.test.js",
          "line": 142,
          "content": "global.categoryMeta = window.categoryMeta;"
        },
        {
          "file": "activeList.real.test.js",
          "line": 373,
          "content": "window.categoryMeta.ses = { type: 'polygon' };"
        }
      ]
    }
  },
  "files": {
    "ActiveListManager.js": {
      "legacyFunctions": 17,
      "legacyGlobals": 25,
      "totalUsage": 42,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.setEmphasis",
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.outlineColors",
        "window.labelColorAdjust",
        "window.categoryMeta"
      ]
    },
    "ActiveListManager.test.js": {
      "legacyFunctions": 15,
      "legacyGlobals": 9,
      "totalUsage": 24,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.setEmphasis",
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.outlineColors",
        "window.labelColorAdjust",
        "window.categoryMeta"
      ]
    },
    "bootstrap.js": {
      "legacyFunctions": 33,
      "legacyGlobals": 16,
      "totalUsage": 49,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.setupCollapsible",
        "window.removeLabel"
      ],
      "globals": [
        "window.emphasised",
        "window.nameLabelMarkers",
        "window.outlineColors",
        "window.headerColorAdjust",
        "window.categoryMeta"
      ]
    },
    "polygons.js": {
      "legacyFunctions": 11,
      "legacyGlobals": 34,
      "totalUsage": 45,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.createCheckbox",
        "window.ensureLabel",
        "window.BulkOperationManager"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.nameLabelMarkers",
        "window.isBulkOperation",
        "window.pendingLabels",
        "window.outlineColors",
        "window.categoryMeta"
      ]
    },
    "ES6IntegrationManager.js": {
      "legacyFunctions": 16,
      "legacyGlobals": 0,
      "totalUsage": 16,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.BulkOperationManager"
      ],
      "globals": []
    },
    "ES6IntegrationManager.test.js": {
      "legacyFunctions": 5,
      "legacyGlobals": 0,
      "totalUsage": 5,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.BulkOperationManager"
      ],
      "globals": []
    },
    "activeList.js": {
      "legacyFunctions": 9,
      "legacyGlobals": 0,
      "totalUsage": 9,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.ensureLabel",
        "window.removeLabel",
        "window.BulkOperationManager"
      ],
      "globals": []
    },
    "state.js": {
      "legacyFunctions": 6,
      "legacyGlobals": 13,
      "totalUsage": 19,
      "functions": [
        "window.updateActiveList",
        "window.ensureLabel",
        "window.BulkOperationManager"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.nameLabelMarkers",
        "window.activeListFilter",
        "window.isBulkOperation",
        "window.pendingLabels"
      ]
    },
    "analyze-legacy-usage.js": {
      "legacyFunctions": 10,
      "legacyGlobals": 13,
      "totalUsage": 23,
      "functions": [
        "window.updateActiveList",
        "window.beginActiveListBulk",
        "window.endActiveListBulk",
        "window.createCheckbox",
        "window.setupCollapsible",
        "window.setEmphasis",
        "window.ensureLabel",
        "window.removeLabel",
        "window.toggleAll",
        "window.BulkOperationManager"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.nameLabelMarkers",
        "window.activeListFilter",
        "window.isBulkOperation",
        "window.pendingLabels",
        "window.outlineColors",
        "window.baseOpacities",
        "window.labelColorAdjust",
        "window.headerColorAdjust",
        "window.categoryMeta"
      ]
    },
    "utils.js": {
      "legacyFunctions": 1,
      "legacyGlobals": 0,
      "totalUsage": 1,
      "functions": [
        "window.createCheckbox"
      ],
      "globals": []
    },
    "CollapsibleManager.js": {
      "legacyFunctions": 1,
      "legacyGlobals": 0,
      "totalUsage": 1,
      "functions": [
        "window.setupCollapsible"
      ],
      "globals": []
    },
    "collapsible.js": {
      "legacyFunctions": 1,
      "legacyGlobals": 0,
      "totalUsage": 1,
      "functions": [
        "window.setupCollapsible"
      ],
      "globals": []
    },
    "app-bootstrap.md": {
      "legacyFunctions": 3,
      "legacyGlobals": 0,
      "totalUsage": 3,
      "functions": [
        "window.setupCollapsible"
      ],
      "globals": []
    },
    "terms-of-reference.md": {
      "legacyFunctions": 1,
      "legacyGlobals": 0,
      "totalUsage": 1,
      "functions": [
        "window.setupCollapsible"
      ],
      "globals": []
    },
    "emphasise.js": {
      "legacyFunctions": 1,
      "legacyGlobals": 0,
      "totalUsage": 1,
      "functions": [
        "window.setEmphasis"
      ],
      "globals": []
    },
    "activeList.real.test.js": {
      "legacyFunctions": 3,
      "legacyGlobals": 30,
      "totalUsage": 33,
      "functions": [
        "window.setEmphasis",
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.outlineColors",
        "window.labelColorAdjust",
        "window.categoryMeta"
      ]
    },
    "LabelManager.js": {
      "legacyFunctions": 2,
      "legacyGlobals": 0,
      "totalUsage": 2,
      "functions": [
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": []
    },
    "PolygonLoader.js": {
      "legacyFunctions": 4,
      "legacyGlobals": 0,
      "totalUsage": 4,
      "functions": [
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": []
    },
    "labels.js": {
      "legacyFunctions": 2,
      "legacyGlobals": 0,
      "totalUsage": 2,
      "functions": [
        "window.ensureLabel",
        "window.removeLabel"
      ],
      "globals": []
    },
    "LegacyCompatibility.js": {
      "legacyFunctions": 3,
      "legacyGlobals": 0,
      "totalUsage": 3,
      "functions": [
        "window.BulkOperationManager"
      ],
      "globals": []
    },
    "data-flow.md": {
      "legacyFunctions": 0,
      "legacyGlobals": 57,
      "totalUsage": 57,
      "functions": [],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.emphasised",
        "window.nameLabelMarkers",
        "window.activeListFilter",
        "window.isBulkOperation",
        "window.pendingLabels"
      ]
    },
    "data-loading.md": {
      "legacyFunctions": 0,
      "legacyGlobals": 7,
      "totalUsage": 7,
      "functions": [],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey"
      ]
    },
    "map-integration.real.test.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 5,
      "totalUsage": 5,
      "functions": [],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey",
        "window.outlineColors"
      ]
    },
    "map-integration.test.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 3,
      "totalUsage": 3,
      "functions": [],
      "globals": [
        "window.featureLayers",
        "window.namesByCategory",
        "window.nameToKey"
      ]
    },
    "SearchManager.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 19,
      "totalUsage": 19,
      "functions": [],
      "globals": [
        "window.namesByCategory",
        "window.nameToKey",
        "window.outlineColors",
        "window.labelColorAdjust"
      ]
    },
    "SearchManager.test.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 6,
      "totalUsage": 6,
      "functions": [],
      "globals": [
        "window.namesByCategory",
        "window.nameToKey",
        "window.outlineColors",
        "window.labelColorAdjust"
      ]
    },
    "StateManager.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 2,
      "totalUsage": 2,
      "functions": [],
      "globals": [
        "window.activeListFilter",
        "window.isBulkOperation"
      ]
    },
    "polygons_old.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 1,
      "totalUsage": 1,
      "functions": [],
      "globals": [
        "window.outlineColors"
      ]
    },
    "config.js": {
      "legacyFunctions": 0,
      "legacyGlobals": 5,
      "totalUsage": 5,
      "functions": [],
      "globals": [
        "window.outlineColors",
        "window.baseOpacities",
        "window.labelColorAdjust",
        "window.headerColorAdjust",
        "window.categoryMeta"
      ]
    },
    "endpoints.md": {
      "legacyFunctions": 0,
      "legacyGlobals": 5,
      "totalUsage": 5,
      "functions": [],
      "globals": [
        "window.outlineColors",
        "window.baseOpacities",
        "window.labelColorAdjust",
        "window.categoryMeta"
      ]
    },
    "setup.md": {
      "legacyFunctions": 0,
      "legacyGlobals": 1,
      "totalUsage": 1,
      "functions": [],
      "globals": [
        "window.categoryMeta"
      ]
    }
  },
  "summary": {
    "totalFunctionUsage": 144,
    "totalGlobalUsage": 251,
    "totalLegacyUsage": 395,
    "filesWithLegacyUsage": 31,
    "mostUsedFunctions": [
      [
        "window.setupCollapsible",
        {
          "count": 28,
          "locations": [
            {
              "file": "bootstrap.js",
              "line": 364,
              "content": "if (window.setupCollapsible) {"
            },
            {
              "file": "bootstrap.js",
              "line": 366,
              "content": "window.setupCollapsible('activeHeader', 'activeList', false);"
            },
            {
              "file": "bootstrap.js",
              "line": 367,
              "content": "window.setupCollapsible('showAllHeader', 'showAllList');"
            },
            {
              "file": "bootstrap.js",
              "line": 368,
              "content": "window.setupCollapsible('sesHeader', 'sesList');"
            },
            {
              "file": "bootstrap.js",
              "line": 369,
              "content": "window.setupCollapsible('lgaHeader', 'lgaList');"
            },
            {
              "file": "bootstrap.js",
              "line": 370,
              "content": "window.setupCollapsible('cfaHeader', 'cfaList');"
            },
            {
              "file": "bootstrap.js",
              "line": 371,
              "content": "window.setupCollapsible('policeHeader', 'policeList');"
            },
            {
              "file": "bootstrap.js",
              "line": 372,
              "content": "window.setupCollapsible('ambulanceHeader', 'ambulanceList');"
            },
            {
              "file": "bootstrap.js",
              "line": 373,
              "content": "window.setupCollapsible('frvHeader', 'frvList');"
            },
            {
              "file": "CollapsibleManager.js",
              "line": 324,
              "content": "window.setupCollapsible = (headerId, listId, expanded) => {"
            },
            {
              "file": "collapsible.js",
              "line": 5,
              "content": "window.setupCollapsible = function(headerId,listId,expanded=false){"
            },
            {
              "file": "bootstrap.js",
              "line": 531,
              "content": "exists: typeof window.setupCollapsible,"
            },
            {
              "file": "bootstrap.js",
              "line": 532,
              "content": "isFunction: typeof window.setupCollapsible === 'function',"
            },
            {
              "file": "bootstrap.js",
              "line": 533,
              "content": "value: window.setupCollapsible"
            },
            {
              "file": "bootstrap.js",
              "line": 537,
              "content": "if (window.setupCollapsible) {"
            },
            {
              "file": "bootstrap.js",
              "line": 541,
              "content": "window.setupCollapsible('activeHeader', 'activeList', false);"
            },
            {
              "file": "bootstrap.js",
              "line": 542,
              "content": "window.setupCollapsible('showAllHeader', 'showAllList');"
            },
            {
              "file": "bootstrap.js",
              "line": 543,
              "content": "window.setupCollapsible('sesHeader', 'sesList');"
            },
            {
              "file": "bootstrap.js",
              "line": 544,
              "content": "window.setupCollapsible('lgaHeader', 'lgaList');"
            },
            {
              "file": "bootstrap.js",
              "line": 545,
              "content": "window.setupCollapsible('cfaHeader', 'cfaList');"
            },
            {
              "file": "bootstrap.js",
              "line": 546,
              "content": "window.setupCollapsible('policeHeader', 'policeList');"
            },
            {
              "file": "bootstrap.js",
              "line": 547,
              "content": "window.setupCollapsible('ambulanceHeader', 'ambulanceList');"
            },
            {
              "file": "bootstrap.js",
              "line": 548,
              "content": "window.setupCollapsible('frvHeader', 'frvList');"
            },
            {
              "file": "app-bootstrap.md",
              "line": 320,
              "content": "window.setupCollapsible('sesHeader', 'sesList', false);"
            },
            {
              "file": "app-bootstrap.md",
              "line": 321,
              "content": "window.setupCollapsible('lgaHeader', 'lgaList', false);"
            },
            {
              "file": "app-bootstrap.md",
              "line": 334,
              "content": "window.setupCollapsible = function(headerId, listId, startCollapsed = false) {"
            },
            {
              "file": "terms-of-reference.md",
              "line": 172,
              "content": "window.setupCollapsible = function(headerId, listId) {"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 19,
              "content": "'window.setupCollapsible',"
            }
          ]
        }
      ],
      [
        "window.BulkOperationManager",
        {
          "count": 26,
          "locations": [
            {
              "file": "polygons.js",
              "line": 235,
              "content": "const bulkStarted = window.BulkOperationManager.begin('toggleAll', items.length);"
            },
            {
              "file": "polygons.js",
              "line": 287,
              "content": "if (window.BulkOperationManager.isActive()) {"
            },
            {
              "file": "polygons.js",
              "line": 288,
              "content": "window.BulkOperationManager.addPendingLabel({category, key, labelName, isPoint: false, layer: l});"
            },
            {
              "file": "polygons.js",
              "line": 331,
              "content": "window.BulkOperationManager.end(); // This will handle labels and active list updates"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 92,
              "content": "// Create window.BulkOperationManager compatibility"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 93,
              "content": "if (window.BulkOperationManager) {"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 94,
              "content": "this.legacyFunctions.set('BulkOperationManager', window.BulkOperationManager);"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 113,
              "content": "if (window.BulkOperationManager) {"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 114,
              "content": "window.BulkOperationManager.markActiveListUpdatePending();"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 142,
              "content": "if (window.BulkOperationManager) {"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 143,
              "content": "return window.BulkOperationManager.begin('legacy');"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 152,
              "content": "if (window.BulkOperationManager) {"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 153,
              "content": "window.BulkOperationManager.end();"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 187,
              "content": "if (!window.BulkOperationManager) {"
            },
            {
              "file": "ES6IntegrationManager.test.js",
              "line": 88,
              "content": "expect(window.BulkOperationManager.begin).toHaveBeenCalledWith('legacy');"
            },
            {
              "file": "ES6IntegrationManager.test.js",
              "line": 91,
              "content": "expect(window.BulkOperationManager.end).toHaveBeenCalled();"
            },
            {
              "file": "LegacyCompatibility.js",
              "line": 145,
              "content": "return window.BulkOperationManager ? window.BulkOperationManager.begin('legacy') : false;"
            },
            {
              "file": "LegacyCompatibility.js",
              "line": 149,
              "content": "if (window.BulkOperationManager) {"
            },
            {
              "file": "LegacyCompatibility.js",
              "line": 150,
              "content": "window.BulkOperationManager.end();"
            },
            {
              "file": "activeList.js",
              "line": 13,
              "content": "if (window.BulkOperationManager && window.BulkOperationManager.isActive()) {"
            },
            {
              "file": "activeList.js",
              "line": 17,
              "content": "window.BulkOperationManager.markActiveListUpdatePending();"
            },
            {
              "file": "activeList.js",
              "line": 31,
              "content": "if (window.BulkOperationManager && window.BulkOperationManager.isActive()) {"
            },
            {
              "file": "state.js",
              "line": 42,
              "content": "window.BulkOperationManager = {"
            },
            {
              "file": "state.js",
              "line": 249,
              "content": "return window.BulkOperationManager.begin('legacy');"
            },
            {
              "file": "state.js",
              "line": 253,
              "content": "window.BulkOperationManager.end();"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 24,
              "content": "'window.BulkOperationManager'"
            }
          ]
        }
      ],
      [
        "window.ensureLabel",
        {
          "count": 21,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 869,
              "content": "if (!window.ensureLabel) return;"
            },
            {
              "file": "ActiveListManager.js",
              "line": 882,
              "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 121,
              "content": "window.ensureLabel = jest.fn();"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 199,
              "content": "delete window.ensureLabel;"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 472,
              "content": "expect(window.ensureLabel).toHaveBeenCalled();"
            },
            {
              "file": "polygons.js",
              "line": 172,
              "content": "window.ensureLabel(category, key, labelName, false, l);"
            },
            {
              "file": "polygons.js",
              "line": 205,
              "content": "window.ensureLabel(category, key, labelName, false, l);"
            },
            {
              "file": "polygons.js",
              "line": 290,
              "content": "window.ensureLabel(category, key, labelName, false, l);"
            },
            {
              "file": "ActiveListManager.js",
              "line": 490,
              "content": "if (window.ensureLabel) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 491,
              "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
            },
            {
              "file": "ActiveListManager.js",
              "line": 514,
              "content": "if (layerOrMarker && window.ensureLabel) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 515,
              "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
            },
            {
              "file": "LabelManager.js",
              "line": 582,
              "content": "window.ensureLabel = (category, key, name, isPoint, layerOrMarker) =>"
            },
            {
              "file": "PolygonLoader.js",
              "line": 648,
              "content": "if (window.ensureLabel) {"
            },
            {
              "file": "PolygonLoader.js",
              "line": 649,
              "content": "window.ensureLabel(category, key, name, isPoint, layer);"
            },
            {
              "file": "activeList.js",
              "line": 257,
              "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
            },
            {
              "file": "activeList.js",
              "line": 274,
              "content": "window.ensureLabel(category, key, name, isPoint, layerOrMarker);"
            },
            {
              "file": "labels.js",
              "line": 139,
              "content": "window.ensureLabel = function(category,key,displayName,isPoint,layerOrMarker){"
            },
            {
              "file": "state.js",
              "line": 202,
              "content": "window.ensureLabel(category, key, labelName, isPoint, layer);"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 21,
              "content": "'window.ensureLabel',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 134,
              "content": "window.ensureLabel = jest.fn();"
            }
          ]
        }
      ],
      [
        "window.removeLabel",
        {
          "count": 18,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 893,
              "content": "if (window.removeLabel) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 894,
              "content": "window.removeLabel(category, key);"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 122,
              "content": "window.removeLabel = jest.fn();"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 200,
              "content": "delete window.removeLabel;"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 478,
              "content": "expect(window.removeLabel).toHaveBeenCalledWith('ses', 'alpine_resorts');"
            },
            {
              "file": "bootstrap.js",
              "line": 904,
              "content": "try { window.removeLabel(cat, key); } catch {}"
            },
            {
              "file": "bootstrap.js",
              "line": 966,
              "content": "try { window.removeLabel(cat, key); } catch {}"
            },
            {
              "file": "ActiveListManager.js",
              "line": 494,
              "content": "if (window.removeLabel) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 495,
              "content": "window.removeLabel(category, key);"
            },
            {
              "file": "LabelManager.js",
              "line": 584,
              "content": "window.removeLabel = (category, key) =>"
            },
            {
              "file": "PolygonLoader.js",
              "line": 654,
              "content": "if (window.removeLabel) {"
            },
            {
              "file": "PolygonLoader.js",
              "line": 655,
              "content": "window.removeLabel(category, key);"
            },
            {
              "file": "activeList.js",
              "line": 259,
              "content": "window.removeLabel(category, key);"
            },
            {
              "file": "bootstrap.js",
              "line": 1175,
              "content": "try { window.removeLabel(cat, key); } catch {}"
            },
            {
              "file": "bootstrap.js",
              "line": 1239,
              "content": "try { window.removeLabel(cat, key); } catch {}"
            },
            {
              "file": "labels.js",
              "line": 196,
              "content": "window.removeLabel = function(category,key){"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 22,
              "content": "'window.removeLabel',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 135,
              "content": "window.removeLabel = jest.fn();"
            }
          ]
        }
      ],
      [
        "window.updateActiveList",
        {
          "count": 15,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 1316,
              "content": "window.updateActiveList = function() {"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 730,
              "content": "expect(window.updateActiveList).toBeDefined();"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 746,
              "content": "window.updateActiveList();"
            },
            {
              "file": "bootstrap.js",
              "line": 795,
              "content": "window.updateActiveList();"
            },
            {
              "file": "bootstrap.js",
              "line": 928,
              "content": "try { window.updateActiveList(); } catch {}"
            },
            {
              "file": "polygons.js",
              "line": 187,
              "content": "window.updateActiveList();"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 126,
              "content": "if (!window.updateActiveList) {"
            },
            {
              "file": "ES6IntegrationManager.js",
              "line": 127,
              "content": "window.updateActiveList = function() {"
            },
            {
              "file": "ES6IntegrationManager.test.js",
              "line": 73,
              "content": "expect(typeof window.updateActiveList).toBe('function');"
            },
            {
              "file": "activeList.js",
              "line": 82,
              "content": "window.updateActiveList = function(){"
            },
            {
              "file": "bootstrap.js",
              "line": 1022,
              "content": "window.updateActiveList();"
            },
            {
              "file": "bootstrap.js",
              "line": 1199,
              "content": "try { window.updateActiveList(); } catch {}"
            },
            {
              "file": "state.js",
              "line": 224,
              "content": "if (window.updateActiveList) {"
            },
            {
              "file": "state.js",
              "line": 226,
              "content": "window.updateActiveList();"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 15,
              "content": "'window.updateActiveList',"
            }
          ]
        }
      ]
    ],
    "mostUsedGlobals": [
      [
        "window.featureLayers",
        {
          "count": 44,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 527,
              "content": "if (!window.namesByCategory?.[category] || !window.featureLayers?.[category]) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 610,
              "content": "if (meta?.type === 'polygon' && window.featureLayers?.[category]?.[key]) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 611,
              "content": "const layer = window.featureLayers[category][key][0];"
            },
            {
              "file": "ActiveListManager.js",
              "line": 876,
              "content": "layerOrMarker = window.featureLayers?.[category]?.[key];"
            },
            {
              "file": "ActiveListManager.js",
              "line": 878,
              "content": "layerOrMarker = window.featureLayers?.[category]?.[key]?.[0];"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 196,
              "content": "delete window.featureLayers;"
            },
            {
              "file": "polygons.js",
              "line": 86,
              "content": "if (window.featureLayers[category][key]) {"
            },
            {
              "file": "polygons.js",
              "line": 87,
              "content": "window.featureLayers[category][key].push(feature);"
            },
            {
              "file": "polygons.js",
              "line": 89,
              "content": "window.featureLayers[category][key] = [feature];"
            },
            {
              "file": "polygons.js",
              "line": 111,
              "content": "Object.keys(window.featureLayers[category]).forEach(key => {"
            },
            {
              "file": "polygons.js",
              "line": 112,
              "content": "window.featureLayers[category][key] = window.featureLayers[category][key].map(feature => {"
            },
            {
              "file": "polygons.js",
              "line": 127,
              "content": "window.namesByCategory[category] = Object.keys(window.featureLayers[category])"
            },
            {
              "file": "polygons.js",
              "line": 137,
              "content": "Object.keys(window.featureLayers[category]).forEach(k => {"
            },
            {
              "file": "polygons.js",
              "line": 159,
              "content": "window.featureLayers[category][key].forEach(l => {"
            },
            {
              "file": "polygons.js",
              "line": 194,
              "content": "window.featureLayers[category][key].forEach(l => {"
            },
            {
              "file": "polygons.js",
              "line": 278,
              "content": "window.featureLayers[category][key].forEach(l => {"
            },
            {
              "file": "state.js",
              "line": 15,
              "content": "window.featureLayers = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
            },
            {
              "file": "state.js",
              "line": 199,
              "content": "if (window.featureLayers[category][key] &&"
            },
            {
              "file": "state.js",
              "line": 200,
              "content": "window.featureLayers[category][key].some(l => l._map)) {"
            },
            {
              "file": "data-flow.md",
              "line": 32,
              "content": "window.featureLayers = {"
            },
            {
              "file": "data-flow.md",
              "line": 155,
              "content": "window.featureLayers.ses[feature.key] = feature.layer;"
            },
            {
              "file": "data-flow.md",
              "line": 290,
              "content": "window.featureLayers.ses[key] = createLeafletLayer(feature);"
            },
            {
              "file": "data-flow.md",
              "line": 417,
              "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 422,
              "content": "delete window.featureLayers[category][key];"
            },
            {
              "file": "data-flow.md",
              "line": 614,
              "content": "if (!window.featureLayers[category][key]) {"
            },
            {
              "file": "data-flow.md",
              "line": 654,
              "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 767,
              "content": "featureLayers: window.featureLayers,"
            },
            {
              "file": "data-flow.md",
              "line": 775,
              "content": "layers: Object.keys(window.featureLayers.ses),"
            },
            {
              "file": "data-flow.md",
              "line": 789,
              "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 947,
              "content": "window.featureLayers.ses[key] = layer; // Add layer"
            },
            {
              "file": "data-flow.md",
              "line": 976,
              "content": "console.log(window.featureLayers);"
            },
            {
              "file": "data-flow.md",
              "line": 1076,
              "content": "Object.entries(window.featureLayers).forEach(([category, layers]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 1096,
              "content": "const layerKeys = Object.keys(window.featureLayers[category] || {});"
            },
            {
              "file": "data-loading.md",
              "line": 495,
              "content": "window.featureLayers[category].push(layer);"
            },
            {
              "file": "data-loading.md",
              "line": 523,
              "content": "if (!window.featureLayers[category]) {"
            },
            {
              "file": "data-loading.md",
              "line": 524,
              "content": "window.featureLayers[category] = [];"
            },
            {
              "file": "data-loading.md",
              "line": 528,
              "content": "window.featureLayers[category].push(...layers);"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 28,
              "content": "'window.featureLayers',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 111,
              "content": "global.featureLayers = window.featureLayers;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 124,
              "content": "window.featureLayers = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 141,
              "content": "global.featureLayers = window.featureLayers;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 372,
              "content": "window.featureLayers.ses = { ballarat_city: [mockLayer] };"
            },
            {
              "file": "map-integration.real.test.js",
              "line": 82,
              "content": "window.featureLayers = { ses: {}, lga: {}, cfa: {} };"
            },
            {
              "file": "map-integration.test.js",
              "line": 141,
              "content": "window.featureLayers = {"
            }
          ]
        }
      ],
      [
        "window.nameToKey",
        {
          "count": 42,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 286,
              "content": "if (!window.namesByCategory?.[category] || !window.nameToKey?.[category]) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 297,
              "content": "const key = window.nameToKey[category][name];"
            },
            {
              "file": "ActiveListManager.js",
              "line": 535,
              "content": "const key = window.nameToKey[category][name];"
            },
            {
              "file": "ActiveListManager.js",
              "line": 1211,
              "content": "const name = Object.keys(window.nameToKey[category] || {}).find("
            },
            {
              "file": "ActiveListManager.js",
              "line": 1212,
              "content": "n => window.nameToKey[category][n] === key"
            },
            {
              "file": "ActiveListManager.js",
              "line": 1269,
              "content": "const key = window.nameToKey[category][name];"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 192,
              "content": "delete window.nameToKey;"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 752,
              "content": "delete window.nameToKey;"
            },
            {
              "file": "SearchManager.js",
              "line": 212,
              "content": "if (window.namesByCategory && window.nameToKey) {"
            },
            {
              "file": "SearchManager.js",
              "line": 236,
              "content": "if (!window.namesByCategory || !window.nameToKey) {"
            },
            {
              "file": "SearchManager.js",
              "line": 248,
              "content": "let key = window.nameToKey[category]?.[name];"
            },
            {
              "file": "SearchManager.js",
              "line": 252,
              "content": "for (const k in window.nameToKey[category] || {}) {"
            },
            {
              "file": "SearchManager.js",
              "line": 254,
              "content": "key = window.nameToKey[category][k];"
            },
            {
              "file": "SearchManager.test.js",
              "line": 162,
              "content": "delete window.nameToKey;"
            },
            {
              "file": "SearchManager.test.js",
              "line": 536,
              "content": "delete window.nameToKey;"
            },
            {
              "file": "polygons.js",
              "line": 136,
              "content": "window.nameToKey[category] = {};"
            },
            {
              "file": "polygons.js",
              "line": 141,
              "content": "window.nameToKey[category][display] = k;"
            },
            {
              "file": "polygons.js",
              "line": 148,
              "content": "const key = window.nameToKey[category][displayName];"
            },
            {
              "file": "polygons.js",
              "line": 258,
              "content": "const key = window.nameToKey[category][n];"
            },
            {
              "file": "SearchManager.js",
              "line": 151,
              "content": "const nameToKey = window.nameToKey || {};"
            },
            {
              "file": "SearchManager.js",
              "line": 316,
              "content": "const nameToKey = window.nameToKey || {};"
            },
            {
              "file": "state.js",
              "line": 19,
              "content": "window.nameToKey = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
            },
            {
              "file": "data-flow.md",
              "line": 54,
              "content": "window.nameToKey = {"
            },
            {
              "file": "data-flow.md",
              "line": 157,
              "content": "window.nameToKey.ses[feature.name] = feature.key;"
            },
            {
              "file": "data-flow.md",
              "line": 292,
              "content": "window.nameToKey.ses[name] = key;"
            },
            {
              "file": "data-flow.md",
              "line": 419,
              "content": "if (!window.nameToKey[category][key]) {"
            },
            {
              "file": "data-flow.md",
              "line": 430,
              "content": "if (!window.nameToKey[category][name]) {"
            },
            {
              "file": "data-flow.md",
              "line": 791,
              "content": "if (!window.nameToKey[category][key]) {"
            },
            {
              "file": "data-flow.md",
              "line": 800,
              "content": "if (!window.nameToKey[category][name]) {"
            },
            {
              "file": "data-flow.md",
              "line": 1078,
              "content": "const nameKeys = Object.keys(window.nameToKey[category] || {});"
            },
            {
              "file": "data-loading.md",
              "line": 511,
              "content": "window.nameToKey[category] = {};"
            },
            {
              "file": "data-loading.md",
              "line": 515,
              "content": "window.nameToKey[category][name] = key;"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 30,
              "content": "'window.nameToKey',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 110,
              "content": "global.nameToKey = window.nameToKey;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 123,
              "content": "window.nameToKey = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 140,
              "content": "global.nameToKey = window.nameToKey;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 240,
              "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city', 'Geelong': 'geelong' };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 270,
              "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 371,
              "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 406,
              "content": "window.nameToKey.ses = { 'Ballarat City': 'ballarat_city' };"
            },
            {
              "file": "map-integration.real.test.js",
              "line": 84,
              "content": "window.nameToKey = { ses: {}, lga: {}, cfa: {} };"
            },
            {
              "file": "map-integration.test.js",
              "line": 147,
              "content": "window.nameToKey = {"
            }
          ]
        }
      ],
      [
        "window.namesByCategory",
        {
          "count": 41,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 286,
              "content": "if (!window.namesByCategory?.[category] || !window.nameToKey?.[category]) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 296,
              "content": "window.namesByCategory[category].forEach(name => {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 527,
              "content": "if (!window.namesByCategory?.[category] || !window.featureLayers?.[category]) {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 534,
              "content": "window.namesByCategory[category].forEach(name => {"
            },
            {
              "file": "ActiveListManager.js",
              "line": 1208,
              "content": "if (!window.namesByCategory?.[category]) return;"
            },
            {
              "file": "ActiveListManager.js",
              "line": 1266,
              "content": "if (!window.namesByCategory?.[category]) return;"
            },
            {
              "file": "ActiveListManager.js",
              "line": 1268,
              "content": "window.namesByCategory[category].forEach(name => {"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 191,
              "content": "delete window.namesByCategory;"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 751,
              "content": "delete window.namesByCategory;"
            },
            {
              "file": "SearchManager.js",
              "line": 212,
              "content": "if (window.namesByCategory && window.nameToKey) {"
            },
            {
              "file": "SearchManager.js",
              "line": 236,
              "content": "if (!window.namesByCategory || !window.nameToKey) {"
            },
            {
              "file": "SearchManager.js",
              "line": 241,
              "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
            },
            {
              "file": "SearchManager.test.js",
              "line": 161,
              "content": "delete window.namesByCategory;"
            },
            {
              "file": "SearchManager.test.js",
              "line": 535,
              "content": "delete window.namesByCategory;"
            },
            {
              "file": "polygons.js",
              "line": 127,
              "content": "window.namesByCategory[category] = Object.keys(window.featureLayers[category])"
            },
            {
              "file": "polygons.js",
              "line": 147,
              "content": "window.namesByCategory[category].forEach(displayName => {"
            },
            {
              "file": "polygons.js",
              "line": 228,
              "content": "const items = window.namesByCategory[category];"
            },
            {
              "file": "SearchManager.js",
              "line": 150,
              "content": "const namesByCategory = window.namesByCategory || {};"
            },
            {
              "file": "SearchManager.js",
              "line": 315,
              "content": "const namesByCategory = window.namesByCategory || {};"
            },
            {
              "file": "state.js",
              "line": 17,
              "content": "window.namesByCategory = { ses:[], lga:[], cfa:[], ambulance:[], police:[], frv:[] };"
            },
            {
              "file": "data-flow.md",
              "line": 46,
              "content": "window.namesByCategory = {"
            },
            {
              "file": "data-flow.md",
              "line": 156,
              "content": "window.namesByCategory.ses.push(feature.name);"
            },
            {
              "file": "data-flow.md",
              "line": 291,
              "content": "window.namesByCategory.ses.push(name);"
            },
            {
              "file": "data-flow.md",
              "line": 428,
              "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 433,
              "content": "const index = window.namesByCategory[category].indexOf(name);"
            },
            {
              "file": "data-flow.md",
              "line": 435,
              "content": "window.namesByCategory[category].splice(index, 1);"
            },
            {
              "file": "data-flow.md",
              "line": 768,
              "content": "namesByCategory: window.namesByCategory,"
            },
            {
              "file": "data-flow.md",
              "line": 776,
              "content": "names: window.namesByCategory.ses,"
            },
            {
              "file": "data-flow.md",
              "line": 798,
              "content": "Object.entries(window.namesByCategory).forEach(([category, names]) => {"
            },
            {
              "file": "data-flow.md",
              "line": 949,
              "content": "window.namesByCategory.ses.push(name); // Add name"
            },
            {
              "file": "data-loading.md",
              "line": 506,
              "content": "window.namesByCategory[category] = features.map(f =>"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 29,
              "content": "'window.namesByCategory',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 109,
              "content": "global.namesByCategory = window.namesByCategory;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 122,
              "content": "window.namesByCategory = { ses: [], lga: [], cfa: [], ambulance: [], police: [], frv: [] };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 139,
              "content": "global.namesByCategory = window.namesByCategory;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 239,
              "content": "window.namesByCategory.ses = ['Ballarat City', 'Geelong'];"
            },
            {
              "file": "activeList.real.test.js",
              "line": 269,
              "content": "window.namesByCategory.ses = ['Ballarat City'];"
            },
            {
              "file": "activeList.real.test.js",
              "line": 370,
              "content": "window.namesByCategory.ses = ['Ballarat City'];"
            },
            {
              "file": "activeList.real.test.js",
              "line": 405,
              "content": "window.namesByCategory.ses = ['Ballarat City'];"
            },
            {
              "file": "map-integration.real.test.js",
              "line": 83,
              "content": "window.namesByCategory = { ses: [], lga: [], cfa: [] };"
            },
            {
              "file": "map-integration.test.js",
              "line": 144,
              "content": "window.namesByCategory = {"
            }
          ]
        }
      ],
      [
        "window.emphasised",
        {
          "count": 24,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 725,
              "content": "checkbox.checked = !!(window.emphasised?.[category]?.[key]);"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 197,
              "content": "delete window.emphasised;"
            },
            {
              "file": "bootstrap.js",
              "line": 905,
              "content": "try { window.emphasised[cat][key] = false; } catch {}"
            },
            {
              "file": "bootstrap.js",
              "line": 967,
              "content": "try { window.emphasised[cat][key] = false; } catch {}"
            },
            {
              "file": "polygons.js",
              "line": 180,
              "content": "window.emphasised[category][key] = false;"
            },
            {
              "file": "polygons.js",
              "line": 298,
              "content": "if (window.emphasised?.[category]) {"
            },
            {
              "file": "polygons.js",
              "line": 299,
              "content": "window.emphasised[category][key] = false;"
            },
            {
              "file": "bootstrap.js",
              "line": 1176,
              "content": "try { window.emphasised[cat][key] = false; } catch {}"
            },
            {
              "file": "bootstrap.js",
              "line": 1240,
              "content": "try { window.emphasised[cat][key] = false; } catch {}"
            },
            {
              "file": "state.js",
              "line": 21,
              "content": "window.emphasised = { ses:{}, lga:{}, cfa:{}, ambulance:{}, police:{}, frv:{} };"
            },
            {
              "file": "data-flow.md",
              "line": 65,
              "content": "window.emphasised = {"
            },
            {
              "file": "data-flow.md",
              "line": 252,
              "content": "window.emphasised[category][key] = true;"
            },
            {
              "file": "data-flow.md",
              "line": 255,
              "content": "window.emphasised[category][key] = false;"
            },
            {
              "file": "data-flow.md",
              "line": 675,
              "content": "emphasised: window.emphasised,"
            },
            {
              "file": "data-flow.md",
              "line": 702,
              "content": "window.emphasised = { ...window.emphasised, ...state.emphasised };"
            },
            {
              "file": "data-flow.md",
              "line": 769,
              "content": "emphasised: window.emphasised,"
            },
            {
              "file": "data-flow.md",
              "line": 777,
              "content": "emphasised: window.emphasised.ses,"
            },
            {
              "file": "data-flow.md",
              "line": 948,
              "content": "window.emphasised.ses[key] = true; // Emphasize feature"
            },
            {
              "file": "data-flow.md",
              "line": 977,
              "content": "console.log(window.emphasised);"
            },
            {
              "file": "data-flow.md",
              "line": 1094,
              "content": "Object.entries(window.emphasised).forEach(([category, emphasis]) => {"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 31,
              "content": "'window.emphasised',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 114,
              "content": "global.emphasised = window.emphasised;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 125,
              "content": "window.emphasised = { ses: {}, lga: {}, cfa: {}, ambulance: {}, police: {}, frv: {} };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 144,
              "content": "global.emphasised = window.emphasised;"
            }
          ]
        }
      ],
      [
        "window.outlineColors",
        {
          "count": 21,
          "locations": [
            {
              "file": "ActiveListManager.js",
              "line": 685,
              "content": "const baseColor = window.outlineColors?.[category] || '#333';"
            },
            {
              "file": "ActiveListManager.test.js",
              "line": 194,
              "content": "delete window.outlineColors;"
            },
            {
              "file": "SearchManager.js",
              "line": 429,
              "content": "if (window.outlineColors && window.outlineColors[category]) {"
            },
            {
              "file": "SearchManager.js",
              "line": 430,
              "content": "const base = window.outlineColors[category];"
            },
            {
              "file": "SearchManager.test.js",
              "line": 163,
              "content": "delete window.outlineColors;"
            },
            {
              "file": "bootstrap.js",
              "line": 718,
              "content": "window.outlineColors[cat] = style.color;"
            },
            {
              "file": "bootstrap.js",
              "line": 739,
              "content": "const base = window.outlineColors[cat];"
            },
            {
              "file": "polygons.js",
              "line": 8,
              "content": "const color = window.outlineColors.ses || '#FF9900';"
            },
            {
              "file": "polygons_old.js",
              "line": 8,
              "content": "const color = window.outlineColors.ses || '#FF9900';"
            },
            {
              "file": "SearchManager.js",
              "line": 152,
              "content": "const outlineColors = window.outlineColors || {};"
            },
            {
              "file": "SearchManager.js",
              "line": 209,
              "content": "const outlineColors = window.outlineColors || {};"
            },
            {
              "file": "bootstrap.js",
              "line": 945,
              "content": "window.outlineColors[cat] = style.color;"
            },
            {
              "file": "bootstrap.js",
              "line": 966,
              "content": "const base = window.outlineColors[cat];"
            },
            {
              "file": "config.js",
              "line": 18,
              "content": "window.outlineColors = { ses:'#cc7a00', lga:'black', cfa:'#FF0000', ambulance:'#d32f2f', police:'#145088', frv:'#DC143C' };"
            },
            {
              "file": "endpoints.md",
              "line": 185,
              "content": "window.outlineColors = {"
            },
            {
              "file": "analyze-legacy-usage.js",
              "line": 36,
              "content": "'window.outlineColors',"
            },
            {
              "file": "activeList.real.test.js",
              "line": 113,
              "content": "global.outlineColors = window.outlineColors;"
            },
            {
              "file": "activeList.real.test.js",
              "line": 133,
              "content": "window.outlineColors = { ses: '#FF9900', lga: '#4ECDC4', cfa: '#45B7D1' };"
            },
            {
              "file": "activeList.real.test.js",
              "line": 143,
              "content": "global.outlineColors = window.outlineColors;"
            },
            {
              "file": "map-integration.real.test.js",
              "line": 87,
              "content": "window.outlineColors = { ses: '#FF9900' };"
            },
            {
              "file": "map-integration.real.test.js",
              "line": 95,
              "content": "const color = window.outlineColors.ses || '#FF9900';"
            }
          ]
        }
      ]
    ],
    "filesWithMostUsage": [
      [
        "data-flow.md",
        {
          "legacyFunctions": 0,
          "legacyGlobals": 57,
          "totalUsage": 57,
          "functions": [],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.nameLabelMarkers",
            "window.activeListFilter",
            "window.isBulkOperation",
            "window.pendingLabels"
          ]
        }
      ],
      [
        "bootstrap.js",
        {
          "legacyFunctions": 33,
          "legacyGlobals": 16,
          "totalUsage": 49,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.setupCollapsible",
            "window.removeLabel"
          ],
          "globals": [
            "window.emphasised",
            "window.nameLabelMarkers",
            "window.outlineColors",
            "window.headerColorAdjust",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "polygons.js",
        {
          "legacyFunctions": 11,
          "legacyGlobals": 34,
          "totalUsage": 45,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.createCheckbox",
            "window.ensureLabel",
            "window.BulkOperationManager"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.nameLabelMarkers",
            "window.isBulkOperation",
            "window.pendingLabels",
            "window.outlineColors",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "ActiveListManager.js",
        {
          "legacyFunctions": 17,
          "legacyGlobals": 25,
          "totalUsage": 42,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.setEmphasis",
            "window.ensureLabel",
            "window.removeLabel"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.outlineColors",
            "window.labelColorAdjust",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "activeList.real.test.js",
        {
          "legacyFunctions": 3,
          "legacyGlobals": 30,
          "totalUsage": 33,
          "functions": [
            "window.setEmphasis",
            "window.ensureLabel",
            "window.removeLabel"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.outlineColors",
            "window.labelColorAdjust",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "ActiveListManager.test.js",
        {
          "legacyFunctions": 15,
          "legacyGlobals": 9,
          "totalUsage": 24,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.setEmphasis",
            "window.ensureLabel",
            "window.removeLabel"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.outlineColors",
            "window.labelColorAdjust",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "analyze-legacy-usage.js",
        {
          "legacyFunctions": 10,
          "legacyGlobals": 13,
          "totalUsage": 23,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.createCheckbox",
            "window.setupCollapsible",
            "window.setEmphasis",
            "window.ensureLabel",
            "window.removeLabel",
            "window.toggleAll",
            "window.BulkOperationManager"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.nameLabelMarkers",
            "window.activeListFilter",
            "window.isBulkOperation",
            "window.pendingLabels",
            "window.outlineColors",
            "window.baseOpacities",
            "window.labelColorAdjust",
            "window.headerColorAdjust",
            "window.categoryMeta"
          ]
        }
      ],
      [
        "state.js",
        {
          "legacyFunctions": 6,
          "legacyGlobals": 13,
          "totalUsage": 19,
          "functions": [
            "window.updateActiveList",
            "window.ensureLabel",
            "window.BulkOperationManager"
          ],
          "globals": [
            "window.featureLayers",
            "window.namesByCategory",
            "window.nameToKey",
            "window.emphasised",
            "window.nameLabelMarkers",
            "window.activeListFilter",
            "window.isBulkOperation",
            "window.pendingLabels"
          ]
        }
      ],
      [
        "SearchManager.js",
        {
          "legacyFunctions": 0,
          "legacyGlobals": 19,
          "totalUsage": 19,
          "functions": [],
          "globals": [
            "window.namesByCategory",
            "window.nameToKey",
            "window.outlineColors",
            "window.labelColorAdjust"
          ]
        }
      ],
      [
        "ES6IntegrationManager.js",
        {
          "legacyFunctions": 16,
          "legacyGlobals": 0,
          "totalUsage": 16,
          "functions": [
            "window.updateActiveList",
            "window.beginActiveListBulk",
            "window.endActiveListBulk",
            "window.BulkOperationManager"
          ],
          "globals": []
        }
      ]
    ],
    "analysisDate": "2025-09-01T13:04:55.904Z"
  }
}